<launch>
	<!-- This file runs the end-to-end PbD tests in simulation. It
	doesn't use a frontend. -->

	<!-- Get the simulated robot. -->
	<include file="$(find pr2_pbd_interaction)/launch/simulated_robot.launch">
		<!-- Don't launch gazebo GUI during tests. -->
		<arg name="gui" value="false" />
	</include>

	<!-- Bring up the PbD backend. -->
	<include file="$(find pr2_pbd_interaction)/launch/pbd_backend.launch">
		<arg name="sim" value="true" />
		<arg name="coverage" value="true" />
	</include>

	<!-- Run the tests themselves. -->
	<test test-name="test_endtoend" pkg="pr2_pbd_interaction" type="test_endtoend.py" ns="pr2_pbd_interaction" time-limit="3600.0">
	</test>
</launch>
